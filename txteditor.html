<!DOCTYPE html>
<html lang="en">
<!-- Made by RubyLinux -->
    <head>
        <title>Text Editor</title>
            <meta charset="utf-8">
            <meta name="description" content="Text Editor">
            <meta name="keywords" content="editor">
            <meta name="author" content="RubyLinux">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <meta name="HandheldFriendly" content="True">
            <meta name="MobileOptimized" content="320">
            <meta name="publisher" content="RubyLinux">
            <meta name="copyright" content="RubyLinux">
            <!--[if IE]>
                <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
            <![endif]-->

        <style>
        .text_edit {
        width: 500px;
        height: 500px;
        background-color: black;
        color: #7CFC00;
        font-family: courier;
        font-size: 14px
        }

        .h{
        color: black
        }
        </style>

        <script language="javascript">
        function view_text () {
        var typingarea = document.getElementById('my_text');
        var div = document.getElementById('view_text');
        var text = typingarea.value;
        div.innerHTML = text;
        }

        text = text.replace(/\n/gi, "<br/>");
        text = text.replace(/\[b\]/gi, "<b>");
        text = text.replace(/\[\/b\]/gi, "</b>");
        text = text.replace(/\</gi, "<");
        text = text.replace(/\>/gi, ">");
        text = text.replace(/\[i\]/gi, "<i>");
        text = text.replace(/\[\/i\]/gi, "</i>");
        text = text.replace(/\[u\]/gi, "<u>");
        text = text.replace(/\[\/u\]/gi, "</u>");

        function save(){ 
         
        var Stext = document.getElementById('my_text').value;
        var Blob1 = new Blob([Stext], {
        type: 'text/plain'
            });
        var fileNameToSaveAs = "text.txt";
        var downloadLink = document.createElement("a");
            downloadLink.download = fileNameToSaveAs;
            downloadLink.innerHTML = "Download File";
                if (window.webkitURL != null) {
                    downloadLink.href = window.webkitURL.createObjectURL(Blob1);
                } else {
                    downloadLink.href = window.URL.createObjectURL(Blob1);
                    downloadLink.onclick = destroyClickedElement;
                    downloadLink.style.display = "none";
                    document.body.appendChild(downloadLink);
                }
                     downloadLink.click();
            }
            var savebtn = document.getElementById('save');
            savebtn.addEventListener('click', save);
            function destroyClickedElement(event) {
            document.body.removeChild(event.target);
            }
        </script>
    </head>

<body>
        <h2><u>RubyLinux Text Editor</u></h2>
    <form id="formthing">
        <textarea class="text_edit" id="my_text" id="mytextarea"></textarea>
        <br/>
        <div id="view_text"></div>
        <input type="button" value="Show text" onclick="view_text()"/>
        <input type="button" onClick="save();" value="Save"/>
        <!-- thx <3 -->
    </form>
</body>
</html>
